{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Nandu soman\\\\Downloads\\\\Projects\\\\hostpitalmanagementsystem\\\\frontend\\\\src\\\\Settings.js\";\nimport React, { Component } from 'react';\nimport { Box, Button, Heading, Grommet, FormField, Form } from 'grommet';\nimport './App.css';\nconst theme = {\n  global: {\n    colors: {\n      brand: '#000000',\n      focus: '#000000'\n    },\n    font: {\n      family: 'Lato'\n    }\n  }\n};\n\nconst AppBar = props => /*#__PURE__*/React.createElement(Box, Object.assign({\n  tag: \"header\",\n  direction: \"row\",\n  align: \"center\",\n  justify: \"between\",\n  background: \"brand\",\n  pad: {\n    left: 'medium',\n    right: 'small',\n    vertical: 'small'\n  },\n  style: {\n    zIndex: '1'\n  }\n}, props, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }\n}));\n\nexport class Settings extends Component {\n  constuctor() {}\n\n  render() {\n    return /*#__PURE__*/React.createElement(Grommet, {\n      theme: theme,\n      full: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Box, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(AppBar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      style: {\n        color: 'inherit',\n        textDecoration: 'inherit'\n      },\n      href: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Heading, {\n      level: \"3\",\n      margin: \"none\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 88\n      }\n    }, \"HMS\"))), /*#__PURE__*/React.createElement(Box, {\n      pad: \"small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      onSubmit: ({\n        value\n      }) => {\n        let email_in_use = \"\";\n        console.log(value);\n        fetch(\"http://localhost:3001/userInSession\").then(res => res.json()).then(res => {\n          var string_json = JSON.stringify(res);\n          var email_json = JSON.parse(string_json);\n          email_in_use = email_json.email;\n          console.log(email_in_use);\n          console.log(\"eg\");\n          fetch(\"http://localhost:3001/resetPasswordPatient?email=\" + email_in_use + \"&oldPassword=\" + value.oldPassword + \"&newPassword=\" + value.newPassword, {\n            method: 'POST'\n          }).then(res => res.json()).then(res => {\n            let didUpdate = res.data.affectedRows;\n\n            if (didUpdate === 0) {\n              window.alert(\"Entered your old password incorrectly\");\n            } else {\n              window.alert(\"Password Reset Successful\");\n            }\n          });\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 25\n      }\n    }, \"Password Change\"), /*#__PURE__*/React.createElement(FormField, {\n      type: \"password\",\n      label: \"Old password\",\n      name: \"oldPassword\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(FormField, {\n      label: \"New password\",\n      name: \"newPassword\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      type: \"submit\",\n      label: \"Change Password\",\n      primary: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 25\n      }\n    })))));\n  }\n\n}\nexport default Settings;","map":{"version":3,"sources":["C:/Users/Nandu soman/Downloads/Projects/hostpitalmanagementsystem/frontend/src/Settings.js"],"names":["React","Component","Box","Button","Heading","Grommet","FormField","Form","theme","global","colors","brand","focus","font","family","AppBar","props","left","right","vertical","zIndex","Settings","constuctor","render","color","textDecoration","value","email_in_use","console","log","fetch","then","res","json","string_json","JSON","stringify","email_json","parse","email","oldPassword","newPassword","method","didUpdate","data","affectedRows","window","alert"],"mappings":"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","sourcesContent":["import React, { Component} from 'react';\r\n\r\nimport {\r\n    Box,\r\n    Button,\r\n    Heading,\r\n    Grommet,\r\n    FormField,\r\n    Form,\r\n} from 'grommet';\r\n\r\nimport './App.css';\r\n\r\nconst theme = {\r\n    global: {\r\n        colors: {\r\n            brand: '#000000',\r\n            focus: '#000000'\r\n        },\r\n        font: {\r\n            family: 'Lato',\r\n        },\r\n    },\r\n};\r\n\r\nconst AppBar = (props) => (\r\n    <Box\r\n        tag='header'\r\n        direction='row'\r\n        align='center'\r\n        justify='between'\r\n        background='brand'\r\n        pad={{ left: 'medium', right: 'small', vertical: 'small' }}\r\n        style={{ zIndex: '1' }}\r\n        {...props} />\r\n);\r\nexport class Settings extends Component {\r\n    constuctor() {\r\n    }\r\n    render() {\r\n        return (\r\n            <Grommet theme={theme} full>\r\n                <Box >\r\n                    <AppBar>\r\n                    <a style={{ color: 'inherit', textDecoration: 'inherit'}} href=\"/\"><Heading level='3' margin='none'>HMS</Heading></a>\r\n                    </AppBar>\r\n                    <Box pad=\"small\">\r\n                    <Form\r\n                    onSubmit={({ value }) => {\r\n                        let email_in_use = \"\";\r\n                        console.log(value);\r\n                        fetch(\"http://localhost:3001/userInSession\")\r\n                          .then(res => res.json())\r\n                          .then(res => {\r\n                            var string_json = JSON.stringify(res);\r\n                            var email_json = JSON.parse(string_json);\r\n                            email_in_use = email_json.email;\r\n                            console.log(email_in_use);\r\n                            console.log(\"eg\");\r\n                          fetch(\"http://localhost:3001/resetPasswordPatient?email=\" + \r\n                          email_in_use + \"&oldPassword=\" + value.oldPassword + \"&newPassword=\" + \r\n                          value.newPassword, {method: 'POST'})\r\n                          .then(res => res.json())\r\n                          .then(res => {\r\n                            let didUpdate = res.data.affectedRows;\r\n                            if(didUpdate === 0) {\r\n                                window.alert(\"Entered your old password incorrectly\");\r\n                            } else {\r\n                                window.alert(\"Password Reset Successful\");\r\n                            }\r\n                          });\r\n                          });\r\n                    }}>\r\n                        <h3>Password Change</h3>\r\n                        <FormField\r\n                            type='password'\r\n                            label=\"Old password\"\r\n                            name=\"oldPassword\"\r\n                            required\r\n                        />\r\n                        <br />\r\n                        <FormField\r\n                            label=\"New password\"\r\n                            name=\"newPassword\"\r\n                            required\r\n                        />\r\n                        <br />\r\n                        <Button\r\n                            type=\"submit\"\r\n                            label=\"Change Password\"\r\n                            primary\r\n                        />\r\n                    </Form>\r\n                    </Box>\r\n                </Box>\r\n            </Grommet>\r\n        );\r\n    }\r\n}\r\nexport default Settings;"]},"metadata":{},"sourceType":"module"}